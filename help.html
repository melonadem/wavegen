<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<head>
<meta charset="ISO-8859-1">
<title>Wavetable calculator help</title>
<style>
table {
	border-collapse: collapse;
	border: 2px solid #000;
}
tbody th {
	text-align:left;
}
tfoot th {
}
td {
	text-align:left;
}
th, td {
	margin: 0;
	padding: 0.2em 0.4em 0.2em 0.5em;
	border: 1px solid #666;
}
body {
	margin-top: 6em;
	padding: 1em 4em 2em;
}
h1 {
	font-size: 150%;
}
h2 {
	font-size: 130%;
}

h3 {
	font-size: 100%;
}

h5 {
	margin-top: 1ex;
	margin-bottom: 1ex;
}
dl {
	margin-left: 2ex;
}
dl dd{
	margin-top: 1ex;
}
dl dt {
	font-weight: normal;
/*
	border-width: 1px;
	border-style: none none dotted dotted;
*/
	padding-left: 1ex;
	margin-top: 2ex;
	margin-bottom: 0.5ex;
}

ul li {
	margin-top: 0.8ex;
}
.comment {
	font-size: 70%;
}
.synopsis dt {
	font-weight: normal;
}
pre {
	margin: 1ex 1em;
	padding: 1ex;;
	border: 1px solid black;
}
/*
.dos-console{
	background-color: #000;
	color: #c0c0c0
}
*/
del {;
	color: #666
}

ins {
	font-weight: bold;
}

hr {
	border: solid #ddd;
	border-width: 0px 1px 1px 0px;
	height: 2px;
	width: 98%;
	color: #333;
}

address {
	margin-top: 2.0em;
	border-top: 1px dashed #000;
	padding: 0.7em 0.6em 0;
}

strong.warning {
	color: #F00;
}

.smallvoice {
	font-size: 70%;
}

code {
	background-color: #eee;
	color: #000
}


</style>
</head>
<body>
<h1>Wavetable calculator help</h1>
<a href="index.html" target="_blank">Use the calculator</a>
<h2>What is this?</h2>
<p>This is a tool to generate waveforms for soundchips like the N163, GB, PC-Engine/HES, SCC, and more.</p>
<h2>Input fields</h2>
<p>The "Wavedata length" field determines how many samples the waveform should contain (By default, this is 64 for the FDS, and 32 for the other systems)</p>
<p>The "Wavedata depth" field determines the number of amplitudes each soundsample can have (0-indexed).<br>Defaults: 15 for N163/GB, 31 for PC-Engine/HES, 63 for FDS and 255 for SCC.</p>
<p>If using non-float output values, the waveform will be clamped/clipped between 0 and the maximum value. To-do: add other out-of-bounds methods ala LSDj</p>
<p>The "Function" field allows you to write the function using the argument "p". The output field is roughly calculated as follows.</p>
<pre><code>for (t = 0 ; t < wavetable_length; t++) {
    p = (t + 0.5)/wavetable_length; //Since it is the average value of t and t + 1, 0.5 is added.
    data[t] = function(p);
}</code></pre>
<h2>Examples</h2>
<p>Be mindful of the angle units. Although sin, squ, tri and saw are defined here, the argument is obtained by dividing the angle (in rad) by 2*pi. 90� becomes 0.25, 180� becomes 0.5, 270� becomes 0.75 and 360� becomes 1.</p>
<p>You can take the examples below and experiment by changing the value.</p>
<table>
<tbody>
<tr><th>sin(p)</th><td><img src=" data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAASAQMAAAAJ7e5rAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAABlBMVEUAAAAA1ABAM7nUAAAANklEQVQI12NgQAKMP0Ak8x8Qyf4PQfL/B5Hy/xvgpP3/A2DyAYMDnPzAcABI/mBEkP/BquAAALzxG9+WzQGQAAAAAElFTkSuQmCC"></td><td>Sine wave</td></tr>
<tr><th>squ(p)</th><td><img src=" data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAASAQMAAAAJ7e5rAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAABlBMVEUAAAAA1ABAM7nUAAAAFUlEQVQI12NgQAL2/w9QlfwPpuEAABMXHePd4z1AAAAAAElFTkSuQmCC"></td><td>Square wave</td></tr>
<tr><th>tri(p)</th><td><img src=" data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAASAQMAAAAJ7e5rAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAABlBMVEUAAAAA1ABAM7nUAAAAPklEQVQIHQXBMRWAMBAFsNx/N3REQmUwVgpSkIakjmyQAAAusKFeIk10iFHE4RbTEsvE920phoSWJnJSDwD8kuYHv4IYZ8AAAAAASUVORK5CYII="></td><td>Triangle wave</td></tr>
<tr><th>saw(p)</th><td><img src=" data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAASAQMAAAAJ7e5rAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAABlBMVEUAAAAA1ABAM7nUAAAALUlEQVQI113EwQ0AMAwCsUgMkJFYvZtRca+qfnjmc5p42ZwuXjani5fN6ebHBcpGHaGAyQrrAAAAAElFTkSuQmCC"></td><td>Sawtooth wave</td></tr>
<tr><th>squ(p, 0.25)</th><td><img src=" data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAASAQMAAAAJ7e5rAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAABlBMVEUAAAAA1ABAM7nUAAAAFklEQVQI12NgQAL2B6hK/v///wCy8QAtnBDwdB/2jQAAAABJRU5ErkJggg=="></td><td>The second argument of "squ" and "tri" is the asymmetry ratio. A value between 0 and 1 can be used, with 0.5 being equivalent to leaving this field out entirely. This example represents a 25% pulse wave.</td></tr>
<tr><th>squ(p, 0.125)</th><td><img src=" data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAASAQMAAAAJ7e5rAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAABlBMVEUAAAAA1ABAM7nUAAAAFklEQVQI12NgQAI2VCXt////fwDZeADu8gcJaTvsCAAAAABJRU5ErkJggg=="></td><td></td></tr>
<tr><th>tri(p, 0.25)</th><td><img src=" data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAASAQMAAAAJ7e5rAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAABlBMVEUAAAAA1ABAM7nUAAAAPUlEQVQIHQXBMRGAMBQFsPDagYE7KqESkYC0SkEGE58EALgQO/hAIZtFmGj1EjrpGsHNWfUIhgwOmbQFAD8Aawnq8i4W2wAAAABJRU5ErkJggg=="></td><td></td></tr>
<tr><th>tri(p, 0.125)</th><td><img src=" data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAASAQMAAAAJ7e5rAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAABlBMVEUAAAAA1ABAM7nUAAAAOklEQVQI12NgQALMYJL9AJh8ACZ/gMl/IJL/fwOYPAAmP4DJP0BS/v9/CNkAJh+ASaA++///wWrhAAApZxni4o+uyAAAAABJRU5ErkJggg=="></td><td></td></tr>
<tr><th>sin(p + 0.25)</th><td><img src=" data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAASAQMAAAAJ7e5rAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAABlBMVEUAAAAA1ABAM7nUAAAAPElEQVQIHQXBQQ2AMBQFsP6XJeyIhMngxqQhbZJQAGsBwEWtNCKhCUjRxeMUENMQwxTgfv0rehEQxwcAbB06BnMRarELAAAAAElFTkSuQmCC"></td><td>A sine wave that starts at 90 degrees, equivalent to a cosine.</td></tr>
<tr><th>sin(2*p)</th><td><img src=" data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAASAQMAAAAJ7e5rAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAABlBMVEUAAAAA1ABAM7nUAAAAM0lEQVQI12NgQAJsQMjAwA+EMFK+Qb4BlbQ/YH8AjXxQ/8ABlfzw/8MBBvv///8fQDYeAOd7GhEbt3KfAAAAAElFTkSuQmCC"></td><td>You can multiply "p" to get a different frequency similar to FM synthesis ratios. Two is twice the fundamental frequency.</td></tr>
<tr><th>sin(2*p - 0.25)</th><td><img src=" data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAASAQMAAAAJ7e5rAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAABlBMVEUAAAAA1ABAM7nUAAAANElEQVQI12NgQAYJQMjA8AEImSACjD8Yf0DZUJKJhYkFVQQowIQqwsHIwcjAZAA05gCy6QCghQaz34RIjAAAAABJRU5ErkJggg=="></td><td>Same as before, but with the degree rotation set to -90 degrees.</td></tr>
<tr><th>sin(0.7*p - 0.25)</th><td><img src=" data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAASAQMAAAAJ7e5rAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAABlBMVEUAAAAA1ABAM7nUAAAAOklEQVQIHQXBQRGAMBAEsNzSGfpEAhJwQKVXFr8jAQCcnzCH8ERY5WCrKFYEMRAQE3EhbsSCt7s3APwUmQcUHEPPNQAAAABJRU5ErkJggg=="></td><td></td></tr>
<tr><th>0.5*sin(p) + 0.5*sin(2.0*p)</th><td><img src=" data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAASAQMAAAAJ7e5rAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAABlBMVEUAAAAA1ABAM7nUAAAAOElEQVQI12NgQAJMYJK9AUTyQ8gDIFL+AYK0/yADIn/Ygcg/9SDy//8GBwR54ACIfAAm/x9ANh4Azj4Z8MRm6hoAAAAASUVORK5CYII="></td><td>Additive synthesis can be achieved by adding together multiple functions.</td></tr>
<tr><th>0.5*saw(p) + 0.3*squ(4.0*p)</th><td><img src=" data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAASAQMAAAAJ7e5rAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAABlBMVEUAAAAA1ABAM7nUAAAALElEQVQIHQXBAREAMAgAIfwzlPEXbQAAAAArnFjiyJqXk9Y8ncg8EpqHAgD4r/4EE+9cPX8AAAAASUVORK5CYII="></td><td>Multiplying the entire function by a fractional value like 0.5 or 0.3 lowers its volume.</td></tr>
<tr><th>0.5*squ(2.0*p)</th><td><img src=" data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAASAQMAAAAJ7e5rAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAABlBMVEUAAAAA1ABAM7nUAAAAGklEQVQI12NgIALYH7A/QCT5////AygkEgAAwz8Z5+jtQgQAAAAASUVORK5CYII="></td><td>Standalone example - notice that it decreases the volume towards the centre of the waveforms rather than sticking to the baseline lowest possible amplitude.</td></tr>
<tr><th>saw(1.3*p)</th><td><img src=" data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAASAQMAAAAJ7e5rAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAABlBMVEUAAAAA1ABAM7nUAAAAO0lEQVQIHQXBMRGAMAAEsHAdGJFQKUUKTrBWKY+SJwEAeEBgBK7ADLyBBqPB2WA2WA3a3I7221bbDQA/HNoZ7lVpzSIAAAAASUVORK5CYII="></td><td>You can achieve oscillator hardsync-like sounds by multiplying p with fractional numbers</td></tr>
<tr><th>sin(1.0*p + 0.14*sin(1.0*p))</th><td><img src=" data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAASAQMAAAAJ7e5rAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAABlBMVEUAAAAA1ABAM7nUAAAAOUlEQVQIHQXBQRHAIBAEsLDTAZ5IQEZ/nDSkVVoTADAg8yIKWRuxEBPZHdE+wkvoKjSC60FVcADAD74uA9lybd+wAAAAAElFTkSuQmCC"></td><td>Two operator Frequency Modulation - Similar to Sound Blaster, Adlib or VRC7</td></tr>
<tr><th>sin(2*p+0.09*sin(7*p))</th><td><img src=" data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAASAQMAAAAJ7e5rAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAABlBMVEUAAAAA1ABAM7nUAAAAOklEQVQIHQXBwQ2AMAwEMHMvHkhUTJBNyGgdjc2CDQAeN8GWC1KNHBAbUU1YhE2oFizBKaj2zswHAD8AIQdrQ1qSsQAAAABJRU5ErkJggg=="></td><td>This is also Frequency Modulation - sounds like a bell.</td></tr>
<tr><th>8*(p - 0.5)*(p - 0.5) - 1</th><td><img src=" data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAASAQMAAAAJ7e5rAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAABlBMVEUAAAAA1ABAM7nUAAAAOUlEQVQIHQXBQRGAQAwEsNxOH/fEAZWAhEpDGiiDBAA0JsCFJyCbJSBFJJSALLa4HWK0aKOcnxcAfrjlBLhhXO7rAAAAAElFTkSuQmCC"></td><td>Parabola</td></tr>
<tr><th>(p < 1/2.5 ? sin(2.5*p) : 0)</th><td><img src=" data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAASAQMAAAAJ7e5rAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAABlBMVEUAAAAA1ABAM7nUAAAALElEQVQI12NgQAI8YJIPTMohkfJIpD2EZPz//wCDfSOYbMYgj4PJ/yASCQAATIoZkOYdwVsAAAAASUVORK5CYII="></td><td>This sounds like a MIDI bass</td></tr>
<tr><th>tri(Math.pow(p,4))</th><td><img src=" data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAASAQMAAAAJ7e5rAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAABlBMVEUAAAAA1ABAM7nUAAAANElEQVQIHQXBQRGAMBAAsXSnD55IwAlIQxrOjgQA4BC2QDiFhEt4hAVGLCJvbOLAPTMfAPycSQYguve28gAAAABJRU5ErkJggg=="></td><td></td></tr>
<tr><th>saw(Math.pow(p,4))</th><td><img src=" data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAASAQMAAAAJ7e5rAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAABlBMVEUAAAAA1ABAM7nUAAAAL0lEQVQI12NgQAMOSOQBBMkIJpmRSHYwyQ8m5cGkPZisB5GM/w8w2P////8AstEALoUOt5Tqr1wAAAAASUVORK5CYII="></td><td></td></tr>
<tr><th>(p = (p < 0.5 ? p:1-p)*2)*0 + saw(Math.pow(p,3.7))</th><td><img src=" data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAASAQMAAAAJ7e5rAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAABlBMVEUAAAAA1ABAM7nUAAAAKElEQVQI12NgwAISMMgP6CTjDwTJ/AdBsv8Dkfz/gYT9////DyAbCwAefw3wsLFe4QAAAABJRU5ErkJggg=="></td><td></td></tr>
<tr><th>2.0*Math.abs(sin(0.5*p)) - 1.0</th><td><img src=" data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAASAQMAAAAJ7e5rAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAABlBMVEUAAAAA1ABAM7nUAAAAKElEQVQI12NgwAISMMgP6CTjDwTJ/AdBsv8Dkfz/gYT9////DyAbCwAefw3wsLFe4QAAAABJRU5ErkJggg=="></td><td>Full-wave rectification.</td></tr>
</tbody>
</table>
<p>This page has been adapted from an old FC2 PPMCK page. I preserved it and roughly translated it to preserve it and open the tool up for international audiences. Original page by h7 (h7mailmail-at-yahoo co jp) (I am unsure if that address is still active, try your luck!)</p>
</body>
</html>
